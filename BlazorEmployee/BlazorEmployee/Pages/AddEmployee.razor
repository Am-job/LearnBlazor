@page "/addEmployee"
@inject GetData data
@inject NavigationManager navigate

<HeaderBackComponent IsBackAble="true" ButtonTitle="Back">Add Employee</HeaderBackComponent>
<FormComponent Data="Employee" Invalid="Invalid" Submit="HandleAddEmployee" ButtonTitle="Submit" IsDisabled="false"></FormComponent>

@code {
    public Employee? Employee { get; set; } = new Employee()
        {
            Name = "",
            Age = 0,
            Dob = DateOnly.FromDateTime(DateTime.Now),
            ID = new Random().Next(0, 100000000),
            JoinDate = DateTime.Now,
            Position = "",
            Salary = 0
        };

    public void HandleAddEmployee(Employee employee)
    {
        if (IsValid)
        {
            data.AddEmployee(employee);
            navigate.NavigateTo("/");
        }
    }

    public bool IsValid { get; set; } = true;

    public void Invalid()
    {
        IsValid = !IsValid;
    }
}
